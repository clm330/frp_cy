#!/usr/bin/env python
#coding:utf-8
 
import os
import psutil
import time


info = 1

def judgeprocess(processname):
    pl = psutil.pids()
    for pid in pl:
        if psutil.Process(pid).name() == processname:
            print(pid)
            return True
            break
    else:
        print("not found")
        return False


while 1 :
    # judgeprocess("frpc")

    return1=os.system('ping 119.29.29.29 -c 2')
    if return1:
        # pass
        info = 1
        #print 'ping fail'
    else:
        info = 0
        #print 'ping ok'
    time.sleep(1)



    if judgeprocess("frpc") == False and info == 0:
        os.system("frpc -c frpc.ini")

