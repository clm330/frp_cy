#!/usr/bin/env python
#coding:utf-8
 
import os
import time


info = 1

def isRunning(process_name):
    try:
        process = len(os.popen('ps aux | grep "' + process_name + '" | grep -v grep').readlines())
        if process >= 1:
            return True
        else:
            return False
    except:
        print("Check process ERROR!!!")
        return False


while 1 :
    # judgeprocess("frpc")

    return1=os.system('ping 119.29.29.29 -c 2')
    if return1:
        # pass
        info = 1
        #print 'ping fail'
    else:
        info = 0
        #print 'ping ok'
    time.sleep(1)



    if isRunning("frpc") == False and info == 0:
        os.system("/home/robot/frp/frp_0.33.0_linux_amd64/frpc -c /home/robot/frp/frp_0.33.0_linux_amd64/me.ini")

